import{g as b,r as g,h as k,c as x,a as e,b as r,u as o,w as n,i as V,j as w,k as R,F as S,o as f,d as c,R as i,e as E,p as I,f as T}from"./index-FZ_suL2I.js";import{a as d,S as u,L}from"./axios-ClFV7AQa.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";var B={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payroom",BASE_URL:"/vue2023-week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const C=t=>(I("data-v-518a9bff"),t=t(),T(),t),D={class:"container"},A=C(()=>e("h2",{class:"font-size-10 text-center mb-4"},"後台",-1)),N={class:"flex gap-4 justify-center"},O={__name:"DashboardView",setup(t){const{VITE_URL:h}=B,p=b(),s=g(!1);function v(){var l;const a=(l=document.cookie.split("; ").find(m=>m.startsWith("myToken=")))==null?void 0:l.split("=")[1];d.defaults.headers.common.Authorization=a,d.post(`${h}/v2/api/user/check`).then(()=>{s.value=!0}).catch(()=>{s.value=!0,u.fire({title:"請先登入",icon:"error",didClose:()=>{p.push("/login")}})})}function _(){d.post(`${h}/v2/logOut`).then(()=>{u.fire({icon:"success",title:"登出成功"}),document.cookie="myToken=; expires=; path=/",p.push("/")}).catch(a=>{u.fire({icon:"error",text:`${a.response.data.message}`})})}return k(()=>{v()}),(a,l)=>(f(),x(S,null,[e("div",D,[r(o(L),{active:!s.value,"full-page":!0},null,8,["active"]),A,e("nav",null,[e("ul",N,[e("li",null,[r(o(i),{to:"/",class:"text-green hover:border-b hover:border-green hover:border-solid"},{default:n(()=>[c("前台首頁")]),_:1})]),e("li",null,[r(o(i),{to:"/admin/products",class:"text-green hover:border-b hover:border-green hover:border-solid"},{default:n(()=>[c("後台產品 ")]),_:1})]),e("li",null,[r(o(i),{to:"/admin/orders",class:"text-green hover:border-b hover:border-green hover:border-solid"},{default:n(()=>[c("訂單 ")]),_:1})]),e("li",null,[r(o(i),{to:"/admin/coupons",class:"text-green hover:border-b hover:border-green hover:border-solid"},{default:n(()=>[c("優惠券 ")]),_:1})]),e("li",null,[e("a",{href:"#",onClick:V(_,["prevent"]),class:"text-green hover:border-b hover:border-green hover:border-solid"},"登出")])])])]),s.value?(f(),w(o(E),{key:0})):R("",!0)],64))}},j=y(O,[["__scopeId","data-v-518a9bff"]]);export{j as default};
